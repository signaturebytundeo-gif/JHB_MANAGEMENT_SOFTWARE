---
phase: 01-foundation-design-system
plan: 03
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - src/types/product.ts
  - src/data/products.ts
  - src/lib/utils.ts
autonomous: false

must_haves:
  truths:
    - "All 4 SKUs are defined with correct names, sizes, and prices from PROJECT.md"
    - "Prices are stored in cents as integers (no floating-point errors)"
    - "Product data is type-safe with TypeScript interface"
    - "Helper function formats prices correctly ($3.99 not $3.9899999)"
  artifacts:
    - path: "src/types/product.ts"
      provides: "Product TypeScript interface"
      exports: ["Product"]
    - path: "src/data/products.ts"
      provides: "Product catalog with 4 SKUs"
      exports: ["products", "getProductBySlug"]
      contains: "jerk-sauce-2oz"
    - path: "src/lib/utils.ts"
      provides: "Price formatting utility"
      exports: ["formatPrice"]
  key_links:
    - from: "src/data/products.ts"
      to: "src/types/product.ts"
      via: "import statement"
      pattern: "import.*Product.*from.*types"
    - from: "src/data/products.ts"
      to: "products array"
      via: "type annotation"
      pattern: "products:.*Product\\[\\]"
---

<objective>
Create type-safe product data catalog with all 4 Jamaica House Brand SKUs and price formatting utilities.

Purpose: Establish single source of truth for product data used throughout the site
Output: TypeScript product types, 4-SKU catalog, and price formatting utility
</objective>

<execution_context>
@/Users/rfmstaff/.claude/get-shit-done/workflows/execute-plan.md
@/Users/rfmstaff/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@/Users/rfmstaff/.planning/PROJECT.md
@/Users/rfmstaff/.planning/ROADMAP.md
@/Users/rfmstaff/.planning/STATE.md
@/Users/rfmstaff/.planning/phases/01-foundation-design-system/01-RESEARCH.md
@/Users/rfmstaff/.planning/phases/01-foundation-design-system/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Create product types and data catalog</name>
  <files>
src/types/product.ts
src/data/products.ts
src/lib/utils.ts
  </files>
  <action>
Define Product interface and create catalog of 4 SKUs with prices in cents (integers, not floats).

Product data from PROJECT.md:
- Jerk Sauce 2oz: $3.99
- Jerk Sauce 5oz: $7.99
- Jerk Sauce 10oz: $14.99
- Escovitch Pikliz 12oz: $7.99

1. Create src/types/product.ts:
   ```typescript
   export interface Product {
     id: string
     name: string
     description: string
     price: number // in cents to avoid floating-point errors
     size: string
     image: string
     slug: string
     category: 'sauce' | 'pikliz'
     inStock: boolean
     stripeProductId?: string // Optional - will be set in Phase 3 (Stripe integration)
     stripePriceId?: string
   }
   ```

2. Create src/data/products.ts:
   ```typescript
   import { Product } from '@/types/product'

   export const products: Product[] = [
     {
       id: 'jerk-sauce-2oz',
       name: 'Original Jerk Sauce',
       description: 'Authentic Jamaican jerk sauce crafted from a 30-year-old family recipe. Features allspice, thyme, and Scotch bonnet peppers. Zero calories, all natural ingredients.',
       price: 399, // $3.99 in cents
       size: '2oz',
       image: '/images/products/jerk-sauce-2oz.jpg',
       slug: 'jerk-sauce-2oz',
       category: 'sauce',
       inStock: true,
     },
     {
       id: 'jerk-sauce-5oz',
       name: 'Original Jerk Sauce',
       description: 'Authentic Jamaican jerk sauce crafted from a 30-year-old family recipe. Features allspice, thyme, and Scotch bonnet peppers. Zero calories, all natural ingredients.',
       price: 799, // $7.99 in cents
       size: '5oz',
       image: '/images/products/jerk-sauce-5oz.jpg',
       slug: 'jerk-sauce-5oz',
       category: 'sauce',
       inStock: true,
     },
     {
       id: 'jerk-sauce-10oz',
       name: 'Original Jerk Sauce',
       description: 'Authentic Jamaican jerk sauce crafted from a 30-year-old family recipe. Features allspice, thyme, and Scotch bonnet peppers. Zero calories, all natural ingredients.',
       price: 1499, // $14.99 in cents
       size: '10oz',
       image: '/images/products/jerk-sauce-10oz.jpg',
       slug: 'jerk-sauce-10oz',
       category: 'sauce',
       inStock: true,
     },
     {
       id: 'escovitch-pikliz-12oz',
       name: 'Escovitch Pikliz',
       description: 'Spicy Jamaican pickled vegetable relish with habanero peppers, carrots, onions, and vinegar. Perfect accompaniment to jerk chicken and grilled meats.',
       price: 799, // $7.99 in cents
       size: '12oz',
       image: '/images/products/pikliz-12oz.jpg',
       slug: 'escovitch-pikliz-12oz',
       category: 'pikliz',
       inStock: true,
     },
   ]

   export function getProductBySlug(slug: string): Product | undefined {
     return products.find((p) => p.slug === slug)
   }

   export function getProductById(id: string): Product | undefined {
     return products.find((p) => p.id === id)
   }
   ```

3. Create src/lib/utils.ts with price formatting:
   ```typescript
   /**
    * Format price in cents to USD string
    * @param cents - Price in cents (e.g., 799 for $7.99)
    * @returns Formatted price string (e.g., "$7.99")
    */
   export function formatPrice(cents: number): string {
     return new Intl.NumberFormat('en-US', {
       style: 'currency',
       currency: 'USD',
     }).format(cents / 100)
   }

   /**
    * Calculate subtotal from array of items
    * @param items - Array of objects with price property (in cents)
    * @returns Total in cents
    */
   export function calculateSubtotal(items: { price: number; quantity: number }[]): number {
     return items.reduce((sum, item) => sum + (item.price * item.quantity), 0)
   }
   ```

Why prices in cents: JavaScript floating-point arithmetic causes errors (0.1 + 0.2 !== 0.3). Storing 799 cents instead of 7.99 dollars avoids precision issues in calculations (cart totals, tax, discounts).

Why separate utils.ts: Price formatting and calculations are pure functions used across multiple features (product cards, cart, checkout). Centralizing prevents duplication.

Do NOT store prices as floats (7.99). Do NOT use arbitrary rounding (Math.round) - Intl.NumberFormat handles it correctly. Do NOT hardcode "$" symbol - use Intl for i18n-ready formatting.
  </action>
  <verify>
Create test file to verify product data and price formatting:

```bash
cd /Users/rfmstaff/Desktop/jamaica-house-brand
cat > verify-products.mjs << 'EOF'
import { products, getProductBySlug } from './src/data/products.ts'
import { formatPrice } from './src/lib/utils.ts'

console.log('Product count:', products.length)
console.log('Expected: 4')

console.log('\nProduct prices:')
products.forEach(p => {
  console.log(`${p.name} (${p.size}): ${formatPrice(p.price)} (${p.price} cents)`)
})

console.log('\nExpected prices:')
console.log('Jerk Sauce 2oz: $3.99 (399 cents)')
console.log('Jerk Sauce 5oz: $7.99 (799 cents)')
console.log('Jerk Sauce 10oz: $14.99 (1499 cents)')
console.log('Pikliz 12oz: $7.99 (799 cents)')

const foundProduct = getProductBySlug('jerk-sauce-5oz')
console.log('\ngetProductBySlug test:', foundProduct ? 'PASS' : 'FAIL')

const notFound = getProductBySlug('nonexistent')
console.log('Not found test:', notFound === undefined ? 'PASS' : 'FAIL')
EOF

node verify-products.mjs
```

Expected output: 4 products, prices formatted correctly ($3.99, $7.99, $14.99, $7.99), getProductBySlug returns correct product or undefined.
  </verify>
  <done>
Product interface exists in src/types/product.ts with all required fields. products array in src/data/products.ts contains exactly 4 SKUs with prices in cents. formatPrice utility formats prices correctly. TypeScript types are properly imported and used. All products have inStock: true and category field.
  </done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Verify foundation phase completion</name>
  <what-built>
Foundation phase complete: Next.js 16 project with Tailwind v4 design system, accessible navigation, and product data catalog.

Built automatically:
- Next.js 16 project with App Router, TypeScript, Tailwind CSS v4
- Design tokens (@theme) for dark premium aesthetic (6 brand colors)
- Plus Jakarta Sans font with zero layout shift
- Mobile-first navigation with WCAG-compliant accessibility
- 4-SKU product catalog with TypeScript types
- Price formatting utilities (cents → dollars)
  </what-built>
  <how-to-verify>
**1. Start development server:**
```bash
cd /Users/rfmstaff/Desktop/jamaica-house-brand
npm run dev
```

**2. Visual verification (http://localhost:3000):**
- [ ] Dark background (#1A1A1A) loads immediately with no white flash
- [ ] Gold text (#D4A843) for "Jamaica House Brand" heading
- [ ] Plus Jakarta Sans font applied (check computed styles)
- [ ] Navigation bar visible with logo + 5 menu items
- [ ] Hover over nav links → text changes to gold
- [ ] Resize browser to mobile → hamburger menu appears
- [ ] Click hamburger → menu slides down, X icon appears
- [ ] Click nav link → menu closes

**3. Accessibility verification:**
- [ ] Inspect hamburger button → aria-expanded toggles true/false
- [ ] Inspect hamburger button → 44px x 44px or larger
- [ ] Tab through navigation → focus visible on all links
- [ ] Screen reader mode → announces "Open menu" / "Close menu"

**4. Code verification:**
```bash
# Check design tokens
cat src/app/globals.css | grep "@theme"
# Should show color definitions

# Check product data
cat src/data/products.ts | grep "price:"
# Should show 399, 799, 1499, 799 (in cents)

# TypeScript compilation
npm run build
# Should succeed with no errors
```

**5. File structure verification:**
- [ ] jamaica-house-brand/ directory exists in /Users/rfmstaff/Desktop/intakeimpact-website/
- [ ] src/lib/fonts.ts exists and exports plusJakarta
- [ ] src/components/navigation/Navigation.tsx exists (80+ lines)
- [ ] src/types/product.ts exports Product interface
- [ ] src/data/products.ts exports products array with 4 items
- [ ] public/images/hummingbird-logo.svg exists

**Expected outcome:**
Working Next.js application with dark theme, accessible navigation, and product data foundation ready for Phase 2 (commerce pages).
  </how-to-verify>
  <resume-signal>
Type "approved" if all checks pass, or describe any issues found.
  </resume-signal>
</task>

</tasks>

<verification>
**Product data integrity:**
1. Open src/data/products.ts - verify 4 products with correct prices:
   - jerk-sauce-2oz: 399 cents ($3.99)
   - jerk-sauce-5oz: 799 cents ($7.99)
   - jerk-sauce-10oz: 1499 cents ($14.99)
   - escovitch-pikliz-12oz: 799 cents ($7.99)

2. Verify TypeScript types:
   - src/types/product.ts exports Product interface
   - src/data/products.ts uses Product[] type annotation
   - No TypeScript errors in IDE

3. Test price formatting:
   ```typescript
   import { formatPrice } from '@/lib/utils'
   formatPrice(799) // Returns "$7.99"
   formatPrice(1499) // Returns "$14.99"
   ```

**Phase completion:**
1. All 5 requirements from ROADMAP.md Phase 1 Success Criteria are met:
   - ✓ Next.js 14+ App Router project exists with Tailwind CSS configured
   - ✓ Design tokens available as Tailwind config (@theme with 6 colors)
   - ✓ Navigation renders with logo, 5 nav items, works mobile + desktop
   - ✓ Dark theme applies consistently (#1A1A1A + #D4A843)
   - ✓ Product data file exists with 4 SKUs as TypeScript objects

2. Ready for Phase 2: Core Commerce Pages
</verification>

<success_criteria>
- Product interface defined with all required fields (id, name, price in cents, size, image, slug, category, inStock)
- products array contains exactly 4 SKUs matching PROJECT.md specifications
- Prices stored as integers in cents (399, 799, 1499, 799)
- formatPrice utility correctly converts cents to USD string
- getProductBySlug and getProductById helper functions work
- TypeScript compilation succeeds with no type errors
- Human verification confirms foundation phase is complete and working
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-design-system/01-03-SUMMARY.md`
</output>
