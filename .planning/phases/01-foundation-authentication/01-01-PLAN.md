---
phase: 01-foundation-authentication
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - tsconfig.json
  - next.config.ts
  - tailwind.config.ts
  - postcss.config.mjs
  - src/app/layout.tsx
  - src/app/globals.css
  - src/app/page.tsx
  - src/lib/db.ts
  - .env.example
  - .env.local
  - .gitignore
  - components.json
autonomous: true
user_setup:
  - service: postgresql
    why: "Database for all application data"
    env_vars:
      - name: DATABASE_URL
        source: "Local PostgreSQL or Supabase Dashboard -> Settings -> Database -> Connection string"

must_haves:
  truths:
    - "Next.js dev server starts without errors on localhost:3000"
    - "Tailwind uses Caribbean color palette (deep green, gold, black)"
    - "shadcn/ui components available for use"
    - "Prisma client singleton configured and importable"
  artifacts:
    - path: "package.json"
      provides: "Project dependencies and scripts"
      contains: "next"
    - path: "tailwind.config.ts"
      provides: "Caribbean color palette configuration"
      contains: "caribbean"
    - path: "src/lib/db.ts"
      provides: "Prisma client singleton"
      contains: "PrismaClient"
    - path: ".env.example"
      provides: "Documentation of all required environment variables"
      contains: "DATABASE_URL"
  key_links:
    - from: "src/lib/db.ts"
      to: "prisma/schema.prisma"
      via: "PrismaClient generated from schema"
      pattern: "new PrismaClient"
---

<objective>
Initialize the Next.js project with all dependencies, configure Tailwind with the Caribbean color palette, install shadcn/ui components, and set up the Prisma client singleton.

Purpose: Every subsequent plan depends on having a working Next.js project with styling and database client configured. This is the foundational setup.
Output: Working Next.js app with configured Tailwind (Caribbean palette), shadcn/ui, Prisma initialized, and environment variables documented.
</objective>

<execution_context>
@/Users/rfmstaff/.claude/get-shit-done/workflows/execute-plan.md
@/Users/rfmstaff/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-authentication/01-RESEARCH.md
@.planning/codebase/ARCHITECTURE.md
@.planning/codebase/STRUCTURE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Next.js project with Tailwind, shadcn/ui, and Prisma client</name>
  <files>
    package.json
    tsconfig.json
    next.config.ts
    tailwind.config.ts
    postcss.config.mjs
    src/app/layout.tsx
    src/app/globals.css
    src/app/page.tsx
    src/lib/db.ts
    .env.example
    .env.local
    .gitignore
    components.json
  </files>
  <action>
    1. Create Next.js 15+ project in the current directory using `npx create-next-app@latest . --typescript --tailwind --eslint --app --src-dir --import-alias "@/*" --use-npm`. Accept defaults for other prompts.

    2. Install core dependencies:
       ```bash
       npm install jose bcrypt zod prisma @prisma/client next-themes sonner react-loading-skeleton
       npm install -D @types/bcrypt tsx
       ```

    3. Initialize Prisma:
       ```bash
       npx prisma init --datasource-provider postgresql
       ```

    4. Initialize shadcn/ui:
       ```bash
       npx shadcn@latest init -d
       ```
       Then add essential components:
       ```bash
       npx shadcn@latest add button input label card form toast
       ```

    5. Configure Tailwind with Caribbean color palette in `tailwind.config.ts`:
       - `caribbean.green.DEFAULT`: `#006633` (deep green, primary)
       - `caribbean.green.light`: `#00884D`
       - `caribbean.green.dark`: `#004D26`
       - `caribbean.gold.DEFAULT`: `#D4AF37` (gold accent)
       - `caribbean.gold.light`: `#E5C158`
       - `caribbean.gold.dark`: `#B8941F`
       - `caribbean.black.DEFAULT`: `#1A1A1A` (rich black)
       - `caribbean.black.light`: `#2D2D2D`
       - Enable `darkMode: 'class'`

    6. Create Prisma client singleton in `src/lib/db.ts`:
       - Use the standard Next.js pattern with `globalThis` to prevent multiple instances in dev
       - Export as `db` (not `prisma`)

    7. Create `.env.example` with all required env vars:
       ```
       DATABASE_URL="postgresql://user:password@localhost:5432/jhb_command_center"
       SESSION_SECRET="generate-a-random-32-char-string"
       RESEND_API_KEY=""
       NEXT_PUBLIC_APP_URL="http://localhost:3000"
       ```

    8. Create `.env.local` with DATABASE_URL pointing to local PostgreSQL or Supabase.

    9. Update `src/app/layout.tsx` with basic metadata:
       - Title: "JHB Command Center"
       - Description: "Operations management for Jamaica House Brand LLC"

    10. Update `.gitignore` to include `.env.local`, `node_modules/`, `.next/`, `prisma/*.db`.
  </action>
  <verify>
    ```bash
    npm run dev &
    sleep 5
    curl -s http://localhost:3000 | head -20
    kill %1
    npx prisma validate
    ```
    Dev server starts, returns HTML, and Prisma schema validates.
  </verify>
  <done>
    - `npm run dev` starts Next.js dev server on localhost:3000 without errors
    - `npx prisma validate` passes
    - Tailwind config contains Caribbean color palette
    - shadcn/ui components installed and available
    - Prisma client singleton exists at `src/lib/db.ts`
    - `.env.example` documents all required environment variables
  </done>
</task>

</tasks>

<verification>
- `npm run dev` starts without errors
- `npx prisma validate` passes
- Tailwind Caribbean color palette available in CSS
- shadcn/ui components installed
- `src/lib/db.ts` exports `db` singleton
</verification>

<success_criteria>
1. Next.js project runs on localhost:3000
2. Tailwind configured with Caribbean color palette (green, gold, black)
3. shadcn/ui initialized with button, input, label, card, form, toast components
4. Prisma initialized with PostgreSQL datasource
5. Prisma client singleton at src/lib/db.ts
6. All environment variables documented in .env.example
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-authentication/01-01-SUMMARY.md`
</output>
