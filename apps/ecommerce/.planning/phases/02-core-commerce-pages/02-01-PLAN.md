---
phase: 02-core-commerce-pages
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/types/product.ts
  - src/data/products.ts
  - src/data/testimonials.ts
  - src/components/ui/StarRating.tsx
  - src/components/ui/ProductCard.tsx
  - src/components/ui/QuickAddButton.tsx
  - src/components/layout/Footer.tsx
autonomous: true

must_haves:
  truths:
    - "Product data includes rating, callouts, and multiple image paths for each SKU"
    - "StarRating component renders gold stars with accessible aria-label"
    - "ProductCard displays product image, name, price, star rating, and links to product detail page"
    - "Footer renders site links, social media placeholders, payment icons, and company info"
  artifacts:
    - path: "src/types/product.ts"
      provides: "Extended Product interface with rating, callouts, images fields"
      contains: "rating"
    - path: "src/data/products.ts"
      provides: "4 SKU catalog with rating, callouts, and images data"
      contains: "callouts"
    - path: "src/data/testimonials.ts"
      provides: "Mock testimonial data for social proof section"
      exports: ["testimonials"]
    - path: "src/components/ui/StarRating.tsx"
      provides: "Accessible star rating display component"
      exports: ["default"]
    - path: "src/components/ui/ProductCard.tsx"
      provides: "Product card with image, name, price, rating, and link"
      exports: ["default"]
    - path: "src/components/ui/QuickAddButton.tsx"
      provides: "Client Component quick-add button placeholder for ProductCard"
      contains: "use client"
      exports: ["default"]
    - path: "src/components/layout/Footer.tsx"
      provides: "Site footer with links, social, payment icons"
      exports: ["default"]
  key_links:
    - from: "src/components/ui/ProductCard.tsx"
      to: "src/types/product.ts"
      via: "imports Product type for props"
      pattern: "import.*Product.*from.*types/product"
    - from: "src/components/ui/ProductCard.tsx"
      to: "src/lib/utils.ts"
      via: "uses formatPrice for price display"
      pattern: "formatPrice"
    - from: "src/components/ui/ProductCard.tsx"
      to: "src/components/ui/StarRating.tsx"
      via: "renders star rating on each card"
      pattern: "StarRating"
    - from: "src/components/ui/ProductCard.tsx"
      to: "src/components/ui/QuickAddButton.tsx"
      via: "renders quick-add button inside card"
      pattern: "QuickAddButton"
---

<objective>
Create shared data layer extensions and reusable UI components needed by all Phase 2 pages (Homepage, Shop, Product Detail).

Purpose: Establish the data and component foundations that Homepage, Shop, and Product Detail pages all depend on. Without these shared pieces, each page plan would duplicate effort.

Output: Extended product data with ratings/callouts/images, testimonial mock data, StarRating component, ProductCard component, and Footer component.
</objective>

<execution_context>
@/Users/rfmstaff/.claude/get-shit-done/workflows/execute-plan.md
@/Users/rfmstaff/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-core-commerce-pages/02-RESEARCH.md

@src/types/product.ts
@src/data/products.ts
@src/lib/utils.ts
@src/lib/fonts.ts
@src/app/globals.css
@src/app/layout.tsx
@src/components/navigation/Navigation.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Extend product data model and add testimonials</name>
  <files>
    src/types/product.ts
    src/data/products.ts
    src/data/testimonials.ts
  </files>
  <action>
1. **Extend Product interface** in `src/types/product.ts`:
   - Add `rating: number` field (star rating, e.g., 4.8)
   - Add `callouts: string[]` field (e.g., ["Zero Calories", "All Natural", "30-Year Recipe"])
   - Add `images: string[]` field (array of image paths for gallery; first image is primary)
   - Keep existing `image` field as-is for backward compatibility (it serves as the primary/thumbnail image)

2. **Update product data** in `src/data/products.ts`:
   - Add `rating` values: jerk-sauce-2oz: 4.8, jerk-sauce-5oz: 4.9, jerk-sauce-10oz: 4.7, escovitch-pikliz-12oz: 4.6
   - Add `callouts` for sauce products: `["Zero Calories", "All Natural", "30-Year Recipe"]`
   - Add `callouts` for pikliz product: `["All Natural", "Handcrafted", "Authentic Recipe"]`
   - Add `images` arrays with 3 paths each per product (these will be placeholder paths since actual images don't exist yet):
     - Format: `/images/products/{slug}-1.jpg`, `/images/products/{slug}-2.jpg`, `/images/products/{slug}-3.jpg`
     - First image in array should match the existing `image` field value

3. **Create testimonials data** file at `src/data/testimonials.ts`:
   - Export type `Testimonial` with fields: `id: string`, `name: string`, `quote: string`, `rating: number`, `location?: string`
   - Export `testimonials: Testimonial[]` array with 4 mock testimonials related to jerk sauce:
     - Example: "The best jerk sauce I've ever had outside of Jamaica. My family goes through a bottle every week!" - Maria G., Miami FL, 5 stars
     - Example: "Chef Anthony's sauce transformed my grilling game. The flavor is authentic and the heat is perfect." - James T., Atlanta GA, 5 stars
     - Example: "I've tried every hot sauce brand out there. Nothing compares to Jamaica House. The 30-year recipe really shows." - Keisha W., Brooklyn NY, 5 stars
     - Example: "We use this on everything - jerk chicken, rice and peas, even eggs. It's that versatile." - David R., Houston TX, 4 stars

4. **Install clsx** for conditional class composition (needed in ProductCard hover states and other components):
   ```bash
   cd /Users/rfmstaff/Desktop/jamaica-house-brand && npm install clsx
   ```
  </action>
  <verify>
Run TypeScript type check to confirm no type errors after extending Product interface:
```bash
cd /Users/rfmstaff/Desktop/jamaica-house-brand && npx tsc --noEmit
```
Verify clsx is installed:
```bash
cd /Users/rfmstaff/Desktop/jamaica-house-brand && node -e "require('clsx')"
```
  </verify>
  <done>
Product interface has rating, callouts, and images fields. All 4 products have these fields populated. Testimonials data file exports 4 mock testimonials. clsx is installed.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create shared UI components (StarRating, ProductCard, Footer)</name>
  <files>
    src/components/ui/StarRating.tsx
    src/components/ui/ProductCard.tsx
    src/components/ui/QuickAddButton.tsx
    src/components/layout/Footer.tsx
  </files>
  <action>
1. **Create StarRating component** at `src/components/ui/StarRating.tsx`:
   - Server Component (no 'use client' needed — purely display)
   - Props: `rating: number` (e.g., 4.8), `maxStars?: number` (default 5), `showValue?: boolean` (default true)
   - Render filled/empty star SVGs using brand-gold for filled, gray-600 for empty
   - Support partial stars: if rating is 4.8, show 4 full gold stars + 1 partial (use CSS clip-path or width percentage on the 5th star)
   - Accessible: `role="img"` with `aria-label="{rating} out of {maxStars} stars"`
   - If `showValue` is true, display rating number in parentheses: `(4.8)`
   - Use Tailwind classes: `w-5 h-5` for star icons, `text-brand-gold` for filled, `text-gray-600` for empty

2. **Create ProductCard component** at `src/components/ui/ProductCard.tsx`:
   - Server Component (no 'use client' — it's a link card, no interactive state)
   - Props: `product: Product` (import from `@/types/product`)
   - Render as `<Link href={/products/${product.slug}}>` wrapping entire card
   - Card structure:
     - Container: `group` class for hover state, `bg-brand-dark border border-brand-gold/20 rounded-lg overflow-hidden transition-all hover:border-brand-gold/60 hover:shadow-lg hover:shadow-brand-gold/5`
     - Image: `next/image` with `fill` prop inside `relative aspect-square overflow-hidden` container. Use `product.image` as src. Add `sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 25vw"`. Add `group-hover:scale-105 transition-transform duration-300` for subtle zoom on hover (SHOP-03 hover state requirement).
     - Content area (`p-4`):
       - Product name: `<h3>` with `font-semibold text-white text-lg`
       - Product size: `<span>` with `text-sm text-gray-400`
       - StarRating component with product.rating
       - Price: formatted with `formatPrice(product.price)` in `text-brand-gold font-bold text-lg`
   - Import and render `QuickAddButton` (see step 2b below) below the price inside the content area. Pass `product.id` and `product.name` as props.

2b. **Create QuickAddButton** at `src/components/ui/QuickAddButton.tsx` (HOME-02, SHOP-02):
   - **Client Component** (`'use client'`) — needs onClick handler to prevent Link navigation
   - Props: `productId: string`, `productName: string`
   - Renders a `<button>` with text "Add to Cart"
   - Styling: `w-full bg-brand-gold text-brand-dark font-semibold py-2 rounded-md hover:bg-brand-gold-light transition-colors mt-3`
   - onClick handler: `(e) => { e.preventDefault(); e.stopPropagation(); console.log('Add to cart:', productName); }` — `preventDefault` and `stopPropagation` prevent the parent `<Link>` on ProductCard from navigating when the button is clicked
   - This is a **Phase 2 placeholder**. Phase 3 will wire this to actual cart state management.
   - This pattern keeps ProductCard as a Server Component while the button is an interactive Client Component leaf.

3. **Create Footer component** at `src/components/layout/Footer.tsx`:
   - Server Component
   - Meets requirement HOME-05: site links, social media links, payment icons, company info
   - Layout: Full-width dark background (`bg-brand-dark border-t border-brand-gold/20`), max-w-7xl centered container
   - Grid layout: 4 columns on desktop (`lg:grid-cols-4`), stacked on mobile
   - Column 1 - Brand: Jamaica House Brand name, hummingbird logo (use `next/image` with `/images/hummingbird-logo.svg`), tagline "30 Years of Flavor"
   - Column 2 - Quick Links: Shop, Our Story, Recipes (use `next/link`)
   - Column 3 - Contact: Email (info@jamaicahousebrand.com placeholder), phone placeholder, 3 restaurant locations (South Florida — just city names: Lauderhill, Miramar, Pembroke Pines)
   - Column 4 - Follow Us: Social media links (Instagram, Facebook, TikTok) with `href="#"` placeholders. Use inline SVG icons for each (simple recognizable icons). Also list "Payment Methods" text with Visa/Mastercard/Amex/Apple Pay text labels (no actual icons needed for Phase 2).
   - Bottom bar: Copyright using dynamic year (`© ${new Date().getFullYear()} Jamaica House Brand. All rights reserved.`) and "Made with love in South Florida"
   - All text uses `text-gray-400` for muted appearance, links use `hover:text-brand-gold transition-colors`

4. **Add Footer to root layout** in `src/app/layout.tsx`:
   - Import Footer from `@/components/layout/Footer`
   - Add `<Footer />` after `{children}` and wrap children + footer in a `<main>` tag (or just place Footer after children). Use `<div className="flex flex-col min-h-screen">` wrapper around children + footer, with `<main className="flex-1">` around children and Footer at the bottom to ensure footer stays at page bottom.
  </action>
  <verify>
Run dev server and check pages load without errors:
```bash
cd /Users/rfmstaff/Desktop/jamaica-house-brand && npx next build 2>&1 | tail -20
```
Verify all components export correctly:
```bash
cd /Users/rfmstaff/Desktop/jamaica-house-brand && npx tsc --noEmit
```
  </verify>
  <done>
StarRating component renders accessible star display with brand-gold colors. ProductCard displays product image, name, size, rating, price, and quick-add button placeholder. Footer renders 4-column layout with brand info, quick links, contact, and social media. Footer appears on all pages via root layout. All components use proper TypeScript typing with Product interface.
  </done>
</task>

</tasks>

<verification>
- `npx tsc --noEmit` passes with zero errors
- `npx next build` completes successfully
- StarRating renders correct number of gold/gray stars for different rating values
- ProductCard shows image, name, size, rating, price, and quick-add button
- ProductCard links to `/products/{slug}` for each product
- Footer renders on all pages with 4-column responsive layout
- All components use design tokens from globals.css (brand-gold, brand-dark, etc.)
</verification>

<success_criteria>
Product data is extended with rating, callouts, and images arrays. Shared components (StarRating, ProductCard, Footer) are created and working. Footer is visible on all pages through root layout. Quick-add button exists as placeholder for Phase 3 cart integration. TypeScript compilation passes.
</success_criteria>

<output>
After completion, create `.planning/phases/02-core-commerce-pages/02-01-SUMMARY.md`
</output>
